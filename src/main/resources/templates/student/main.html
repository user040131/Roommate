<!--
  파일 위치(권장): src/main/resources/templates/student/main.html

  컨트롤러 예시:
  @Controller
  @RequestMapping("/student")
  public class StudentPageController {
      @GetMapping("/main") public String main(Model model) { return "student/main"; }
      @GetMapping("/characteristic") public String characteristic() { return "student/characteristic"; }
      @GetMapping("/introduction")  public String introduction()  { return "student/introduction"; }
      @GetMapping("/profile/edit")   public String editProfile()   { return "student/edit-profile"; }
      @GetMapping("/result")         public String result()        { return "student/result"; }
      @PostMapping("/auth/logout")   ... // 보안 설정에 따라 /auth/logout으로 분리 가능
  }

  아래 th:href 들은 위와 같은 라우트에 맞춰져 있습니다.
  프로젝트 라우트가 다르면 th:href 경로만 원하는 URL로 바꾸세요.
-->

<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Student Main</title>
    <style>
        /* ====== 색/레이아웃 토큰 (파스텔톤 하늘색 배경) ====== */
        :root {
            --sky-start: #eaf6ff;  /* 밝은 파스텔 하늘색 */
            --sky-end:   #d7efff;  /* 살짝 진한 톤으로 그라데이션 */
            --card:      #ffffffee;/* 반투명 카드 배경 */
            --btn:       #1976d2;  /* 버튼 기본색 */
            --btn-text:  #fff;
            --muted:     #5b6b7a;
        }

        * { box-sizing: border-box }

        /* 화면 전체: 파스텔 하늘색 그라데이션 + 가운데 카드 정렬 */
        body {
            margin: 0;
            min-height: 100vh;
            display: grid;
            place-items: center;
            background: linear-gradient(180deg, var(--sky-start), var(--sky-end));
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        }

        /* 가운데 카드 */
        .card {
            width: min(520px, 92vw);
            background: var(--card);
            padding: 28px 24px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,.1);
            text-align: center;
        }

        h1 { margin: 0 0 6px 0 }
        p.sub { margin: 0 0 18px 0; color: var(--muted); font-size: 14px }

        /* 버튼을 1열(세로)로 가운데 정렬 */
        .stack {
            display: flex;
            flex-direction: column;
            gap: 12px;             /* 버튼 간격 */
            align-items: stretch;  /* 너비 통일 */
        }

        /* 공통 버튼 스타일 */
        a.btn, button.btn {
            display: inline-block;
            width: 100%;
            padding: 14px 16px;
            border-radius: 12px;
            text-decoration: none;
            background: var(--btn);
            color: var(--btn-text);
            font-weight: 700;
            border: 0;
            cursor: pointer;
        }

        /* 왼쪽 하단의 작은 로그아웃 버튼 */
        .logout {
            position: fixed;   /* 화면 고정 (스크롤과 무관) */
            left: 16px;
            bottom: 16px;
        }
        .logout button {
            padding: 8px 12px;
            font-weight: 600;
            font-size: 12px;
            border-radius: 10px;
            background: #3b82f6; /* 조금 더 연한 파랑 */
            color: #fff;
            border: 0;
            cursor: pointer;
            opacity: .9;
        }
    </style>
</head>
<body>

<main class="card">
    <h1>학생 메인</h1>

    <!--
      #authentication.name :
      thymeleaf-extras-springsecurity5 의존성이 있으면 현재 인증된 사용자명을 표시할 수 있습니다.
      의존성이 없다면 이 줄은 삭제하고, 컨트롤러에서 model.addAttribute("username", ...) 로 내려
      th:text="${username}" 로 출력하세요.
    -->
    <p class="sub" th:text="${#authentication?.name}">로그인 사용자</p>

    <!--
      버튼 4개를 1열로 배치하고, 각 버튼을 컨트롤러 라우트와 연결합니다.
      th:href="@{/student/characteristic}"  => GET /student/characteristic 로 이동
      라우트가 다르면 괄호 안 경로만 원하는 URL로 수정하세요.
    -->
    <section class="stack">
        <!-- 1) Characteristic -->
        <a class="btn" th:href="@{/student/characteristic}">Characteristic</a>

        <!-- 2) Introduction -->
        <a class="btn" th:href="@{/student/introduction}">Introduction</a>

        <!-- 3) 개인정보 변경 요청 -->
        <a class="btn" th:href="@{/student/profile/edit}">개인정보 변경 요청</a>

        <!-- 4) 결과 확인 -->
        <a class="btn" th:href="@{/student/result}">결과 확인</a>
    </section>
</main>

<!--
  로그아웃: 보안을 위해 GET 대신 POST 사용 권장.
  Spring Security 기본 CSRF가 켜져 있다면 반드시 CSRF 토큰을 함께 보냅니다.
  현재 엔드포인트는 /auth/logout 으로 가정(컨트롤러/시큐리티 설정에 맞게 변경 가능).
-->
<form class="logout" th:action="@{/auth/logout}" method="post">
    <!-- CSRF 토큰: 없는 환경이면 이 줄은 무시되며, ? 옵셔널 체이닝 덕분에 에러가 나지 않습니다. -->
    <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}"/>
    <button type="submit">로그아웃</button>
</form>

</body>
</html>
